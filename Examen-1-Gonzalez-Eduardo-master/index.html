<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./styles.css">
  <title>EXAMEN DOM</title>
</head>
<body>
  <div class="container">

    <div class="header">
    <h2>Usando DOM y formularios</h2>
    </div>

    <div class = "datos">
      <p class="titles">Nombre:</p>
      <p id="nombreF"></p>
      <p class="titles">Número de control: </p>
      <p id="controlF"></p>
    </div>

   <div>
      <p class="titles">Personajes Favoritos: </p>
      <div id="listaPersonajes" class="listaPersonajes"></div>
      <div class="form-control">
        <form id= "formP" class="form">
          <p for="">Agrega tú Personaje Favorito</p>
          <input type="text" class="personaje" placeholder="Personaje favorito">
          <input type="button" class="btnAgregar" value="Agregar" onclick="capturar();">
        </form>
      </div>
    </div>

    <div class="movies">
      <p class="titles">Películas Favoritas: </p>
      <ol>
        <li>Shrek</li>
        <li>Un mundo feliz</li>
        <li>La vida inútil de Pito Pérez</li>
        <li>El club de la pelea</li>
        <div id="listaPeliculas"></div>
      </ol>
      <button  onclick="eliminar()">Eliminar</button>
    </div>
  </div>
</body>
<!--<script type="text/javascript" src="./SCRIPTS/script.js"></script>-->
<script>
    window.onload =  function(){
    document.getElementById("nombreF").innerHTML += "Eduardo Gonzalez Flores";
    document.getElementById("controlF").innerHTML += "17390753";

    var peliculas = ['The Godfather', 'The Godfather Part II', 'Taxi Driver','The Shinning', 'Apocalypse Now'];
    for ( n=0; n<5; n++){
        document.getElementById("listaPeliculas").innerHTML+="<li>"+peliculas[n]+"</li>";
      }
    
  }

  var capturar = function(){
    const lstPersonaje = document.getElementsByClassName("personaje"),
        arrayGuardar = [];
    for (var i = 0; i < lstPersonaje.length; i++){
      arrayGuardar[i] = lstPersonaje[i].value;
      console.log (lstPersonaje[i].value);
      document.getElementById("listaPersonajes").innerHTML+="<li>"+lstPersonaje[i].value+"</li>";
    }
  }

  var list = document.querySelector('ol');
  list.addEventListener('click', function(ev) {
    if (ev.target.tagName === 'LI') {
      ev.target.classList.toggle('select');
    }
  }, false);

  function eliminar(){
      var seleccionados = document.getElementsByClassName("select");    
      for (var i = seleccionados.length-1; i >= 0; i--) {
          seleccionados[i].parentElement.removeChild(seleccionados[i]);
      }
    
  }
</script>
</html>