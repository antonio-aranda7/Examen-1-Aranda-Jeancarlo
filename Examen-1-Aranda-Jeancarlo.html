<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Examen DOM</title>
    <!--<style>
        body {
            background-color:  black;
            text-decoration-color: rgb(52, 50, 206);
        }
        p,ol,li {
            font-size: 17px;
            margin-top: 20px;
        }
        li {
            background: #424141;
            padding: 5px;
            margin-left: 5px;
            margin-right: 50px;
        }
        input[type=text]:hover{
            background-color: #4CAF50; /* Green */
            color: white;
        }
        input[type=text]{
            
        padding: 5px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 13px;
        transition-duration: 0.4s;
        border: 2px solid #4CAF50;
        }

        input[type=button]{
        padding: 5px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 13px;
        border-radius: 12px;
        transition-duration: 0.4s;
        border: 2px solid #4CAF50;
        }
        input[type=button]:hover{
            background-color: #4CAF50; /* Green */
            color: white;
        }

    </style>-->
</head>
<body id="body" text="grenn" bgcolor="black">
    <h2>Usando DOM y formularios</h3>

    <p>Usando DOM y formularios</p>
<!---Usando DOM: Agregue sus datos solicitados en los primeros 2 párrafos. (5 puntos)-->
    <p id="nombre">Nombre: </p>
    <p id="numero">Número de control: </p>

<!---Agregue manualmente un formulario que permita agregar nombres de personajes favoritos, abajo del 3er párrafo. (10 puntos)-->
<!---Usando DOM: Agregue sus personajes favoritos. ((10 puntos))-->  
    <p >Personajes favoritos</p> 
    <!--<form id="personajes" action="" onsubmit="return validacion()>-->
    <form id="personajes">
        <p id="errorPersonaje" style="color: red;"></p>
        <input type="text" id="inputPersonaje" placeholder="Personaje"/>
        <!--<input type="button" id="btnPersonaje" onclick="agregarPersonaje()" onclick="this.disabled=true;
        this.value='Enviando...'; this.form.onsubmit()"  value="Agregar Personaje">-->
        <!--<input type="button" id="btnPersonaje" value="Agregar Personaje" onchange="this.value='Agregar otro Personaje'; this.disabled=false; "
        onclick="this.disabled=true; this.value='Enviando...'; agregarPersonaje()"  >-->
        <input type="button" id="btnPersonaje" value="Agregar Personaje" onclick="agregarPersonaje()">
        <p id="pPersonaje"></p>
    </form>

<!---Agregue los elementos y scripts necesarios para que mediante el uso de controles, el usuario seleccione y elimine las películas que desee. (15 puntos)-->
<!---Usando DOM: Agregue los elementos del arreglo de películas, a la lista de películas (10 puntos)-->  
    <p id="peliculas">Películas favoritas</p>
    <p id="errorPelicula" style="color: red;"></p>
    <input type="text" id="inputPelicula" placeholder="Pelicula"/>
    <input type="button" id="btnPelicula" value="Agregar Pelicula" onclick="agregarPelicula()">
    <ol id="olPeliculas">       
        <li>Shrek</li>
        <li>Un mundo feliz</li>
        <li>La vida inútil de Pito Pérez</li>
        <li>El club de la pelea</li>        
	</ol>
    <input type="button" id="btnPelicula" value="Eliminar Pelicula" onclick="borrarPelicula()">

    <script>
/*      agregando el dato nombre al 1° parafo*/
        var nombre = document.getElementById("nombre");
        var contenidoNombre = document.createTextNode(" Jeancarlo Antonio Aranda Cen");
        nombre.appendChild(contenidoNombre);
/*      agregando el dato numero de control al 2° parafo*/
        var numero = document.getElementById("numero");
        var contenidoNumero = document.createTextNode(" 17390318");
        numero.appendChild(contenidoNumero);

/*El objeto document permite acceder directamente a cualquier formulario mediante su atributo name:*/        
        //var formularioPersonajes = document.personajes;
        //var elementoPersona = document.personajes.personaje;
/**/
        var formularioPersonajes = document.getElementById("personajes");
        var elementoPersona = document.getElementById("personaje");

        var parrafopersonaje1 = document.createElement("p");
        var parrafopersonaje2 = document.createElement("p");
        var contenidoPersonaje1 = document.createTextNode("- Winnie the Pooh");
        var contenidoPersonaje2 = document.createTextNode("- Ben 10");

        parrafopersonaje1.appendChild(contenidoPersonaje1);
        parrafopersonaje2.appendChild(contenidoPersonaje2);
        formularioPersonajes.appendChild(parrafopersonaje1);
        formularioPersonajes.appendChild(parrafopersonaje2);
        //83
        var x = 0;
        //var contador = 1;
        var array = Array();
        var valido = new RegExp(/^([A-Za-z0-9-\s-])+$/); 
        function agregarPersonaje() {
            var personaje = document.getElementById("inputPersonaje").value;
            //var error = 1;   
            
            if (personaje === '' || personaje === 0 || personaje === null){               
                document.getElementById("errorPersonaje").innerHTML =" No ha ingresado ningun personaje" ;                   
                /*var errorPersonaje = document.createElement("p");
                var errorContenidoPersonaje = document.createTextNode("Ingrese un personaje");
                errorPersonaje.appendChild(errorContenidoPersonaje);
                formularioPersonajes.appendChild(errorPersonaje);
                error++;*/ 
            }
            else{
                if (!valido.test(personaje)){
                    document.getElementById("errorPersonaje").innerHTML = "El dato: " + document.getElementById("inputPersonaje").value + " es erroneo";
                }
                else{
                    array[x] = document.getElementById("inputPersonaje").value;
                    x++;
                    var e = "";
                    for (var i = 0; i <array.length; i++) {
                        //var textopersona = document.createTextNode("-"+ personaje); 
                    //e += contador + ". " + array[i] + "<br/>";
                    e +="- " + array[i] + "<br/>";
                    }
                    document.getElementById("pPersonaje").innerHTML = e;
                    
                    //document.getElementById("pPersonaje").appendChild(textopersona);     
                    /*var parrafopersonaje = document.createElement("p");         
                    for (var i = 0; i < 1; i++) {
                        var textopersona = document.createTextNode(document.getElementById("personaje").value);
                    }
                    document.getElementById("personaje").appendChild(textopersona);*/
                    document.getElementById("errorPersonaje").innerHTML = "";
                }
            }
                contador++;
        }

        function agregarPelicula() {
            var lista = document.createElement("li");
            var pelicula = document.getElementById("inputPelicula").value;
            var textoCelda = document.createTextNode(pelicula);
            if (pelicula === '' || pelicula == 0 || pelicula == null ){
                document.getElementById("errorPelicula").innerHTML =" No ha ingresado ninguna Pelicula" ;
            }
            else {
                if (!valido.test(pelicula)){
                document.getElementById("errorPelicula").innerHTML = "El dato: " + document.getElementById("inputPelicula").value + " es erroneo";
                }
                else{
                lista.appendChild(textoCelda)
                document.getElementById("olPeliculas").appendChild(lista);
                document.getElementById("errorPelicula").innerHTML = "";
                }
            }
        }
    
        function borrarPelicula(){
            var pelicula = document.getElementById("inputPelicula").value;
            var peliculasArray = document.getElementsByTagName("li");
            if (pelicula === '' || pelicula == 0){
                document.getElementById("errorPelicula").innerHTML =" No ha ingresado ninguna Pelicula" ;
            }else {
                for (var i = 0; i < peliculasArray.length; i++) {
                    if (peliculasArray[i].textContent === pelicula) {
                        document.getElementById("olPeliculas").removeChild(peliculasArray[i])
                    }
                }
            }

        }

        function validacion(){
            
        }
        /*var parrafos = document.getElementsByTagName("p");
        var segundoParrafo = parrafos[1];
        var contenidoNombre = document.createTextNode(" Jeancarlo Antonio Aranda Cen");
        var nombre = segundoParrafo.getElementsByTagName("p");
        
        nombre.appendChild(contenidoNombre);*/
    </script>
</body>
</html>